{"version":3,"sources":["uix/core.cljs"],"mappings":"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","names":["uix.core/built-in-static-method-names","p__40496","map__40497","cljs.core/--destructure-map","cljs.core.get","uix.core/create-class","constructor","getInitialState","render","componentDidMount","componentDidUpdate","componentDidCatch","shouldComponentUpdate","getSnapshotBeforeUpdate","componentWillUnmount","childContextTypes","contextTypes","contextType","getDerivedStateFromProps","getDerivedStateFromError","defaultProps","displayName","fields","methods","uix.lib/map->js","cljs.core.apply","cljs.core/dissoc","static-methods","cljs.core/select-keys","ctor","props","this","js/module$node_modules$react$index.Component","uix.core.goog$module$goog$object.extend","writer","opt","cljs.core/-write","uix.core/create-ref","js/module$node_modules$react$index.createRef","uix.core/glue-args","G__40498","cljs.core.assoc","uix.core/memo-compare-args","a","b","cljs.core._EQ_","var_args","G__40500","uix.core/memo","js/Error","f","uix.core.memo","should-update?","fm","js/module$node_modules$react$index.memo","uix.core/use-state","value","uix.hooks.alpha/use-state","G__40502","uix.core/use-reducer","uix.hooks.alpha.use_reducer","init-state","G__40504","uix.core/use-ref","uix.core.use_ref","ref","uix.hooks.alpha/use-ref","x40505","cljs.core/PROTOCOL_SENTINEL","v","G__40506","G__40507","G__40508","G__40509","G__40510","G__40511","xs","G__40513","uix.core/create-context","js/module$node_modules$react$index.createContext","default-value","uix.core/use-context","context","uix.hooks.alpha/use-context","uix.core/use-deferred-value","uix.hooks.alpha/use-deferred-value","uix.core/use-transition","uix.hooks.alpha/use-transition","uix.core/start-transition","js/module$node_modules$react$index.startTransition","uix.core/use-id","uix.hooks.alpha/use-id","G__40515","uix.core/use-sync-external-store","subscribe","get-snapshot","uix.hooks.alpha.use_sync_external_store","get-server-snapshot","p1__40516#","uix.core/as-react","G__40517","cljs_bean.core.bean","uix.core/stringify-clojure-primitives","cljs.core/Keyword","cljs.core/uuid?","cljs.core/Symbol","uix.core/jsfy-deps","coll","or__5045__auto__","js/Array.isArray","cljs.core/vector?","cljs.core.reduce","arr","uix.core/lazy","lazy-component","js/module$node_modules$react$index.lazy","component","p__40518","map__40519","uix.core/create-error-boundary","display-name","derive-error-state","did-catch","cljs.core.gensym","render-fn","_","derive-state","error","state","set-state","new-value","G__40520","G__40521","class","uix.core/forward-ref","ref-comp","js/module$node_modules$react$index.forwardRef","argv","G__40522","cljs.core.merge","cljs.core.dissoc","uix.compiler.alpha/component-element","uix.compiler.attributes/interpret-props","uix.core/suspense","js/module$node_modules$react$index.Suspense","uix.core/strict-mode","js/module$node_modules$react$index.StrictMode","uix.core/profiler","js/module$node_modules$react$index.Profiler","uix.core/client?","js/document","uix.core/server?"],"sourcesContent":["(ns uix.core\n  \"Public API\"\n  (:require-macros [uix.core])\n  (:require [goog.object :as gobj]\n            [react]\n            [uix.hooks.alpha :as hooks]\n            [uix.compiler.aot]\n            [uix.lib :refer [doseq-loop map->js]]\n            [cljs-bean.core :as bean]))\n\n(def ^:dynamic *current-component*)\n\n;; React's top-level API\n\n(def ^:private built-in-static-method-names\n  [:childContextTypes :contextTypes :contextType\n   :getDerivedStateFromProps :getDerivedStateFromError])\n\n(defn create-class\n  \"Creates class based React component\"\n  [{:keys [constructor getInitialState render\n           ;; lifecycle methods\n           componentDidMount componentDidUpdate componentDidCatch\n           shouldComponentUpdate getSnapshotBeforeUpdate componentWillUnmount\n           ;; static methods\n           childContextTypes contextTypes contextType\n           getDerivedStateFromProps getDerivedStateFromError\n           ;; class properties\n           defaultProps displayName]\n    :as fields}]\n  (let [methods (map->js (apply dissoc fields :displayName :getInitialState :constructor :render\n                                built-in-static-method-names))\n        static-methods (map->js (select-keys fields built-in-static-method-names))\n        ctor (fn [props]\n               (this-as this\n                        (.apply react/Component this (js-arguments))\n                        (when constructor\n                          (constructor this props))\n                        (when getInitialState\n                          (set! (.-state this) (getInitialState this)))\n                        this))]\n    (gobj/extend (.-prototype ctor) (.-prototype react/Component) methods)\n    (when render (set! (.-render ^js (.-prototype ctor)) render))\n    (gobj/extend ctor react/Component static-methods)\n    (when displayName\n      (set! (.-displayName ctor) displayName)\n      (set! (.-cljs$lang$ctorStr ctor) displayName)\n      (set! (.-cljs$lang$ctorPrWriter ctor)\n            (fn [this writer opt]\n              (-write writer displayName))))\n    (set! (.-cljs$lang$type ctor) true)\n    (set! (.. ctor -prototype -constructor) ctor)\n    (set! (.-uix-component? ctor) true)\n    ctor))\n\n(defn create-ref\n  \"Creates React's ref type object.\"\n  []\n  (react/createRef))\n\n(defn glue-args [^js props]\n  (cond-> (.-argv props)\n    (.-children props) (assoc :children (.-children props))))\n\n(defn- memo-compare-args [a b]\n  (= (glue-args a) (glue-args b)))\n\n(defn memo\n  \"Takes component `f` and optional comparator function `should-update?`\n  that takes previous and next props of the component.\n  Returns memoized `f`.\n\n  When `should-update?` is not provided uses default comparator\n  that compares props with clojure.core/=\"\n  ([f]\n   (memo f memo-compare-args))\n  ([^js f should-update?]\n   (let [fm (react/memo f should-update?)]\n     (when (.-uix-component? f)\n       (set! (.-uix-component? fm) true))\n     fm)))\n\n(defn use-state\n  \"Takes initial value or a function that computes it and returns a stateful value,\n  and a function to update it.\n\n  See: https://reactjs.org/docs/hooks-reference.html#usestate\"\n  [value]\n  (hooks/use-state value))\n\n(defn use-reducer\n  \"An alternative to `use-state`. Accepts a reducer of type (state, action) => new-state,\n  and returns the current state paired with a dispatch method.\n\n  See: https://reactjs.org/docs/hooks-reference.html#usereducer\"\n  ([f value]\n   (hooks/use-reducer f value))\n  ([f value init-state]\n   (hooks/use-reducer f value init-state)))\n\n(defn use-ref\n  \"Takes optional initial value and returns React's ref hook wrapped in atom-like type.\"\n  ([]\n   (use-ref nil))\n  ([value]\n   (let [ref (hooks/use-ref nil)]\n     (when (nil? (.-current ref))\n       (set! (.-current ref)\n             (specify! #js {:current value}\n                       IDeref\n                       (-deref [this]\n                               (.-current this))\n\n                       IReset\n                       (-reset! [this v]\n                                (set! (.-current ^js this) v))\n\n                       ISwap\n                       (-swap!\n                        ([this f]\n                         (set! (.-current ^js this) (f (.-current ^js this))))\n                        ([this f a]\n                         (set! (.-current ^js this) (f (.-current ^js this) a)))\n                        ([this f a b]\n                         (set! (.-current ^js this) (f (.-current ^js this) a b)))\n                        ([this f a b xs]\n                         (set! (.-current ^js this) (apply f (.-current ^js this) a b xs)))))))\n     (.-current ref))))\n\n(defn create-context\n  \"Creates React Context with an optional default value\"\n  ([]\n   (react/createContext))\n  ([default-value]\n   (react/createContext default-value)))\n\n(defn use-context\n  \"Takes React context and returns its current value\"\n  [context]\n  (hooks/use-context context))\n\n(defn use-deferred-value\n  \"Accepts a value and returns a new copy of the value that will defer to more urgent updates.\n  If the current render is the result of an urgent update, like user input,\n  React will return the previous value and then render the new value after the urgent render has completed.\n\n  See: https://reactjs.org/docs/hooks-reference.html#usedeferredvalue\"\n  [v]\n  (hooks/use-deferred-value v))\n\n(defn use-transition\n  \"Returns a stateful value for the pending state of the transition, and a function to start it.\n\n  See: https://reactjs.org/docs/hooks-reference.html#usetransition\"\n  []\n  (hooks/use-transition))\n\n(defn start-transition\n  \"Marks updates in `f` as transitions\n  See: https://reactjs.org/docs/react-api.html#starttransition\"\n  [f]\n  (react/startTransition f))\n\n(defn use-id\n  \"Returns unique ID that is stable across the server and client, while avoiding hydration mismatches.\n\n  See: https://reactjs.org/docs/hooks-reference.html#useid\"\n  []\n  (hooks/use-id))\n\n(defn use-sync-external-store\n  \"For reading and subscribing from external data sources in a way that\u2019s compatible\n  with concurrent rendering features like selective hydration and time slicing.\n\n  subscribe: function to register a callback that is called whenever the store changes\n  get-snapshot: function that returns the current value of the store\n  get-server-snapshot: function that returns the snapshot used during server rendering\n\n  See: https://reactjs.org/docs/hooks-reference.html#usesyncexternalstore\"\n  ([subscribe get-snapshot]\n   (hooks/use-sync-external-store subscribe get-snapshot))\n  ([subscribe get-snapshot get-server-snapshot]\n   (hooks/use-sync-external-store subscribe get-snapshot get-server-snapshot)))\n\n(defn as-react\n  \"Interop with React components. Takes UIx component function\n  and returns same component wrapped into interop layer.\"\n  [f]\n  #(f #js {:argv (bean/bean %)}))\n\n(defn- stringify-clojure-primitives [v]\n  (cond\n    ;; fast direct lookup for a string value\n    ;; already stored on the instance of the known type\n    (keyword? v) (.-fqn v)\n    (uuid? v) (.-uuid v)\n    (symbol? v) (.-str v)\n    :else v))\n\n(defn jsfy-deps [coll]\n  (if (or (js/Array.isArray coll)\n          (vector? coll))\n    (reduce (fn [arr v]\n              (.push arr (stringify-clojure-primitives v))\n              arr)\n            #js []\n            coll)\n    coll))\n\n(defn lazy\n  \"Like React.lazy, but supposed to be used with UIx components\"\n  [f]\n  (let [lazy-component (react/lazy #(.then (f) (fn [component] #js {:default component})))]\n    (set! (.-uix-component? lazy-component) true)\n    lazy-component))\n\n(defn create-error-boundary\n  \"Creates React's error boundary component\n\n  display-name       \u2014 the name of the component to be displayed in stack trace\n  derive-error-state \u2014 maps error object to component's state that is used in render-fn\n  did-catch          \u2014 2 arg function for side-effects, logging etc.\n  receives the exception and additional component info as args\n  render-fn          \u2014 takes state value returned from error->state and a vector\n  of arguments passed into error boundary\"\n  [{:keys [display-name derive-error-state did-catch]\n    :or   {display-name (str (gensym \"uix.error-boundary\"))}}\n   render-fn]\n  (let [constructor  (fn [^js/React.Component this _]\n                       (set! (.-state this) #js {:argv nil}))\n        derive-state (fn [error]\n                       #js {:argv (derive-error-state error)})\n        render       (fn []\n                       (this-as ^react/Component this\n                                (let [props     (.-props this)\n                                      state     (.-state this)\n                                      set-state (fn [new-value]\n                                                  (.setState this #js {:argv new-value}))]\n                                  (render-fn [(.-argv state) set-state]\n                                             (glue-args props)))))\n        class        (create-class {:constructor              constructor\n                                    :displayName              display-name\n                                    :getDerivedStateFromError derive-state\n                                    :componentDidCatch        did-catch\n                                    :render                   render})]\n    (set! (.-uix-component? class) true)\n    class))\n\n(defn forward-ref\n  \"Like React's `forwardRef`, but should be used only for UIx components\n  when passing them into React components that inject a ref\"\n  [component]\n  (let [ref-comp\n        (react/forwardRef\n         (fn [props ref]\n           (let [argv (cond-> (.-argv props)\n                        (.-children props) (assoc :children (.-children props))\n                        :always (assoc :ref ref))\n                 argv (merge argv\n                             (-> (bean/bean props)\n                                 (dissoc [:argv :children])))]\n             (uix.core/$ component argv))))]\n    (set! (.-uix-component? ref-comp) true)\n    ref-comp))\n\n(def suspense react/Suspense)\n(def strict-mode react/StrictMode)\n(def profiler react/Profiler)\n\n;; SSR helpers\n(def client? (exists? js/document)) ;; cljs can run in a browser or Node.js\n(def server? (not client?))\n"],"x_google_ignoreList":[0]}